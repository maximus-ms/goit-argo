service:
  type: ClusterIP
  port: 5000

global:
  imageRegistry: docker.io
  # This is the most important setting - it overrides ALL init containers
  initImage:
    registry: docker.io
    repository: bitnamilegacy/os-shell
    tag: 12-debian-12-r50
    pullPolicy: IfNotPresent
  
  # Force ALL os-shell images to use bitnamilegacy
  osShell:
    registry: docker.io
    repository: bitnamilegacy/os-shell
    tag: 12-debian-12-r50


# Залишаємо локальне сховище артефактів у контейнері (неперсистентне)
defaultArtifactRoot: file:///mlruns


auth:
  enabled: false


# Вбудована БД PostgreSQL (без диску)
postgresql:
  enabled: true
  image:
    registry: docker.io
    repository: bitnamilegacy/postgresql
    # tag: 17.6.0-debian-12-r4
  primary:
    persistence:
      enabled: false
  auth:
    postgresPassword: mlflowpass
    username: mlflow
    password: mlflowpass
    database: mlflowdb


# Вбудоване S3-сховище (MinIO) 
minio:
  enabled: true
  image:
    registry: docker.io
    repository: bitnamilegacy/minio
    # tag: 2025.7.23-debian-12-r3
  persistence:
    enabled: false
  provisioning:
    enabled: true


image:
  registry: docker.io
  repository: bitnamilegacy/mlflow
  # tag: 3.3.2-debian-12-r0
  pullPolicy: IfNotPresent

waitContainer:
  image:
    registry: docker.io
    repository: bitnamilegacy/os-shell
    tag: 12-debian-12-r50
    pullPolicy: IfNotPresent

# MLflow Tracking Server (логи/артефакти не зберігатимуться між рестартами)
tracking:
  persistence:
    enabled: false
